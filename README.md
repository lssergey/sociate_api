#Sociate.ru Api 

##Общие положения:

 - текущая версия API располагается по адресу http://sociate.ru/api/v1.0/
 - метод запроса (GET или POST) не имеет значения.
 - в результате вызова возвращается JSON.

В случае удачного выполнения запроса результат выглядит следующим образом:
```
{'response': ... }
```
В `response` содержится результат вызова.

В случае ошибки при запросе результат выглядит следующим образом:
```
{'error': {'error_code': 1, 'error_msg': 'some msg', 'request_params': [{'key': 'foo', 'value': 'bar'}]}}
```

Коды ошибок:
 - -1 (минус один) - внутренняя ошибка
 - 10 - ошибочный запрос
 - 20 - токен некорректен
 - 30 - аргументы метода некорректны
 - 40 - результат вызова не определен, повторите запрос через несколько минут.

##autopost.canPost 
Метод позволяет узнать можно ли размещать отложенную запись в зависимости 
от того есть ли на указанное время рекламный пост на первом месте.

```
http://sociate.ru/api/v1.0/?method=autopost.canPost&gid=123123&date=2013-01-01&time=18:00
```

параметры:

`method` - autopost.canPost (с учетом регистра)

`gid` - положительное число, идентификатор группы или паблика ВКонтакте.

`date` - дата постинга в формате `YYYY-MM-DD`, пример - `2013-01-01`

`time` - время постинга в формате `HH:MM`, пример - `18:00`

результат вызова - объект. поле `allowed` присутствует всегда и указывает, можно размещать пост или нет. 

- размещать отложенный пост можно:

```
{'response': {'allowed': 1}}
``` 

 - размещать отложенный пост нельзя, время занято рекламой
 - поле `time` содержит время, до которого рекламный пост будет на первом месте:

```
{'response': {'allowed': 0, 'time': '18:00'}}
``` 
